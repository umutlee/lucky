# 變更日誌

## [1.1.4] - 2024-03-21
### 架構優化
- 調整為本地優先的數據處理策略
- 優化服務依賴關係和初始化順序
- 完善數據存儲和緩存策略
- 添加詳細的性能監控設計

### 文檔更新
- 重組系統架構文檔
- 添加服務依賴關係說明
- 更新 API 設計文檔
- 完善錯誤處理機制說明

### 技術改進
- 遷移至 Riverpod 進行狀態管理
- 優化 SQLite 存儲實現
- 改進緩存策略
- 增強數據安全機制

## [1.1.3] - 2024-03-21
### 文檔重組
- 重組文檔目錄結構，建立清晰的分類
- 合併重複的文檔內容
- 統一文檔格式和風格

### 架構優化
- 更新系統架構文檔
- 整合存儲相關說明
- 完善 API 設計文檔

### 開發指南
- 新增詳細的 API 整合實現說明
- 添加運勢計算實現細節
- 補充異常處理機制說明

## [1.1.2] - 2024-03-21
### 優化
- 統一 FortuneType 定義
- 完善 Fortune 模型功能
- 建立與特定運勢模型的關係
- 改進運勢描述格式化

### 新功能
- 為 FortuneType 添加圖標支持
- 實現運勢等級判定
- 添加詳細運勢描述生成
- 新增運勢比較功能

### 技術改進
- 使用 freezed 註解實現不可變模型
- 優化 JSON 序列化/反序列化
- 添加詳細代碼註釋
- 增強類型安全性

## [1.0.0] - 2024-03-15
### 初始版本
- 實現基礎運勢計算
- 完成用戶資料管理
- 建立通知系統
- 實現本地存儲

# 更新日誌

本文檔記錄項目的所有重要更新。

## [Unreleased]

### 新增
- 數據庫抽象層，支持測試和模擬
- 用戶設置服務的完整實現
- 測試框架從 `test` 遷移到 `flutter_test`

### 修改
- 重構 `DatabaseHelper` 為抽象接口
- 更新 `UserSettings` 模型結構
- 優化測試用例組織

### 修復
- 修復數據庫查詢的空值處理
- 修復測試用例中的異步問題
- 修復文檔結構混亂問題

## [0.1.0] - 2024-01-26

### 新增
- 基礎項目結構搭建
- 核心數據模型定義
- SQLite 數據庫集成
- 基礎測試框架搭建

### 修改
- 優化項目文檔結構
- 更新開發規範文檔
- 完善測試指南文檔

### 修復
- 修復初始化腳本問題
- 修復依賴版本衝突
- 修復文檔鏈接錯誤

## [1.1.1] - 2024-03-16

### 優化
- 更新 geolocator 至 13.0.2 版本
- 更新 flutter_local_notifications 至 18.0.1 版本
- 更新 share_plus 至 10.1.4 版本
- 更新 go_router 至 14.6.3 版本
- 重構通知服務，加入 iOS 支援
- 改進位置服務的權限處理
- 優化分享服務，支援多文件分享
- 加強錯誤處理和日誌記錄

## [1.1.0] - 2024-03-16

### 新增
- 加入 GoRouter 路由管理
- 加入 custom_lint 和 riverpod_lint 代碼質量檢查
- 加入詳細的分析配置文件

### 優化
- 更新所有依賴至最新穩定版本
- 移除 Get 包相關代碼
- 統一路由管理方案
- 優化代碼結構和組織

### 修復
- 解決路由管理衝突
- 修復依賴版本衝突

## [1.1.2] - 2024-03-21

### 代碼庫檢查與優化
- 完成存儲方案統一
  - 移除 SharedPreferences 相關代碼
  - 統一使用 SQLite 作為存儲方案
  - 優化數據初始化流程
- 修復類型定義問題
  - 修正 NotificationNotifier 導出
  - 統一 ApiClient 提供者定義
  - 開始完善 Fortune 相關類型
- 優化依賴注入
  - 開始調整 Provider 初始化順序
  - 規劃服務依賴關係文檔
  - 修正構造函數參數

### 待完成功能
- Fortune 相關類型定義完善
- Provider 初始化順序調整
- 服務依賴關係文檔
- 單元測試補充
- 集成測試實現

### 技術債務
- Provider 初始化邏輯重構
- 緩存策略優化
- 錯誤處理完善
- 性能監控添加

### 已知問題修復
- 解決 SharedPreferences 和 SQLite 數據同步問題
- 修復配置加載順序問題
- 優化數據初始化流程

## [1.1.3] - 2024-03-21

### 優化
- 統一了 FortuneType 枚舉的定義，移除了重複定義
- 優化了 Fortune 模型，添加了更多功能和方法
- 建立了 Fortune 模型與其他特定類型運勢模型的關聯
- 添加了運勢比較和標籤生成功能
- 改進了運勢描述的格式化輸出

### 新增功能
- 為 FortuneType 添加了圖標支持
- 添加了運勢等級判定功能
- 實現了運勢詳細描述的生成
- 添加了運勢比較功能

### 技術改進
- 使用 freezed 注解生成不可變模型
- 優化了 JSON 序列化和反序列化
- 添加了詳細的代碼註釋
- 實現了更好的類型安全

## [1.0.0] - 2024-03-15

### 新增
- 完成基礎運勢預測功能
  - 每日運勢查詢
  - 學業運勢分析
  - 事業運勢評估
  - 愛情運勢預測
- 實現黃曆查詢功能
  - 每日黃曆資訊
  - 農曆日期轉換
  - 節氣計算與提示
- 添加基礎用戶界面
  - 首頁運勢展示
  - 日曆查詢介面
  - 運勢詳情頁面
  - 設置頁面

### 優化
- 改進運勢計算算法
- 優化緩存策略
- 提升頁面加載速度
- 改善用戶交互體驗

### 修復
- 修復日期選擇器顯示問題
- 解決運勢計算精度問題
- 修正農曆轉換錯誤
- 修復緩存過期問題

## [0.9.0] - 2024-03-01

### 新增
- 搭建基礎項目架構
  - Flutter 框架配置
  - Node.js 後端服務
  - 路由管理系統
- 實現核心功能
  - 運勢計算服務
  - 黃曆查詢服務
  - 緩存服務
- 添加開發工具
  - ESLint 配置
  - Prettier 配置
  - Jest 測試框架

### 優化
- 完善項目文檔
- 優化代碼結構
- 改進錯誤處理

### 修復
- 修復依賴版本衝突
- 解決編譯錯誤
- 修正類型定義問題

## [0.8.0] - 2024-02-15

### 新增
- 初始化專案結構
- 添加基礎配置文件
- 創建開發文檔

### 計劃中的功能
- 智能篩選功能
- 方位指引整合
- 推送通知系統
- 社交分享功能
- 桌面小部件
- 會員系統
- 支付功能
- 廣告系統

## 版本說明

- 主版本號：當進行不兼容的 API 修改時
- 次版本號：當增加向下兼容的功能時
- 修訂號：當進行向下兼容的問題修正時 